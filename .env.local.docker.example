# ==============================================
# Missland Local Development Configuration Template
# ==============================================
# 
# THREE ENVIRONMENT FILES STRATEGY:
# 
# 1. .env.docker.example (Tracked in Git)
#    Template for production server - safe to commit
#
# 2. .env.docker (Git-Ignored)
#    Actual production config - NEVER commit
#
# 3. .env.local.docker.example (THIS FILE - Tracked in Git)
#    Template for local development - safe to commit
#
# USAGE:
# 1. Copy this file to .env.local.docker
# 2. Update values as needed
# 3. .env.local.docker is git-ignored (won't commit)
# 4. Start Docker: docker-compose --env-file .env.local.docker up -d postgres redis
# 5. Run backend: python manage.py runserver
# 6. Run frontend: npm run dev
#
# ==============================================
# DJANGO CORE SETTINGS
# ==============================================

# Debug mode - True for local development
DEBUG=True

# Django Secret Key (min 50 chars for local dev)
SECRET_KEY=your-local-secret-key-can-be-simple-for-local-development-min-50-char

# ==============================================
# DATABASE CONFIGURATION (PostgreSQL via Docker)
# ==============================================

DB_NAME=missland_db

# Database user (PostgreSQL default)
DB_USER=postgres

# Database password (simple for local dev, complex for production)
DB_PASSWORD=local_dev_password_123

# For local development: 127.0.0.1 (localhost)
# Docker containers expose to localhost
DB_HOST=127.0.0.1

DB_PORT=5432

# ==============================================
# REDIS CONFIGURATION
# ==============================================

# For local development: localhost
REDIS_URL=redis://127.0.0.1:6379/1

# Enable Redis caching (false for initial setup, true for full testing)
USE_REDIS=false

# ==============================================
# SUPERUSER CONFIGURATION
# ==============================================

# Will be auto-created on first migrate
DJANGO_SUPERUSER_USERNAME=admin

DJANGO_SUPERUSER_EMAIL=admin@missland.local

# Simple password OK for local development
DJANGO_SUPERUSER_PASSWORD=admin_password_123

# ==============================================
# DATA INITIALIZATION
# ==============================================

# Import 3,883 nail designs (true for full feature testing)
IMPORT_REAL_POSTS=true

# Seed 12 blog articles
SEED_ARTICLES=true

# ==============================================
# BASE URL CONFIGURATION
# ==============================================

# For local development: localhost with backend port
BASE_URL=http://127.0.0.1:8000

# Media base URL (usually same as BASE_URL)
MEDIA_BASE_URL=http://127.0.0.1:8000

# ==============================================
# ALLOWED HOSTS AND CORS
# ==============================================

# For local development: localhost and 127.0.0.1
ALLOWED_HOSTS=localhost,127.0.0.1,127.0.0.1:8000

# CORS for local frontend (npm run dev on port 3000)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ==============================================
# GOOGLE OAUTH CONFIGURATION (Optional)
# ==============================================

# Leave empty if not testing Google OAuth locally
# Or use test credentials from Google Console
GOOGLE_OAUTH_CLIENT_ID=

GOOGLE_OAUTH_CLIENT_SECRET=

GOOGLE_CLIENT_ID=

GOOGLE_CLIENT_SECRET=

# ==============================================
# OPENAI CONFIGURATION (Optional)
# ==============================================

# Leave empty if not testing AI features
OPENAI_API_KEY=

# Chat API URL (local backend)
NEXT_PUBLIC_CHAT_API_URL=http://127.0.0.1:8000

# ==============================================
# EMAIL CONFIGURATION (Optional)
# ==============================================

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=noreply@missland.local

# ==============================================
# LOGGING
# ==============================================

# Debug logging for local development
DJANGO_LOG_LEVEL=DEBUG

# ==============================================
# FRONTEND NEXT.JS CONFIGURATION
# ==============================================

# For local development: backend at 127.0.0.1:8000 (no /api suffix - frontend code includes full paths)
NEXT_PUBLIC_API_URL=http://127.0.0.1:8000

# Frontend Google Client ID (same as above if using OAuth)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=

# Development mode (hot-reload enabled)
NODE_ENV=development

# ==============================================
# SENTRY (Optional)
# ==============================================

SENTRY_DSN=

# ==============================================
# LOCAL DEVELOPMENT SETUP NOTES
# ==============================================
#
# 1. Copy this file:
#    cp .env.local.docker.example .env.local.docker
#
# 2. Edit .env.local.docker with your values
#    nano .env.local.docker
#
# 3. Terminal 1 - Start Docker services:
#    docker-compose --env-file .env.local.docker up -d postgres redis
#
# 4. Terminal 2 - Start backend:
#    source .venv/bin/activate
#    cd backend
#    python manage.py migrate  # First time only
#    python manage.py runserver
#
# 5. Terminal 3 - Start frontend:
#    cd frontend
#    npm run dev
#
# Access:
#   Frontend: http://localhost:3000
#   Backend API: http://127.0.0.1:8000/api
#   Admin: http://127.0.0.1:8000/admin (use superuser creds above)
#
# Troubleshooting:
#   - If port 5432 already in use: stop local PostgreSQL first
#    brew services stop postgresql@14  # macOS
#    sudo systemctl stop postgresql     # Linux
#

# Admin username (will be created automatically on first run)
DJANGO_SUPERUSER_USERNAME=admin

# Admin email
DJANGO_SUPERUSER_EMAIL=admin@missland.local

# Admin password [REQUIRED] - Use a strong password
DJANGO_SUPERUSER_PASSWORD=admin_password_change_this

# ==============================================
# DATA INITIALIZATION
# ==============================================

# Import 3,883 nail designs from annotations.json (first run only)
# Set to false for faster initial setup, set to true for full feature testing
IMPORT_REAL_POSTS=true

# Seed blog articles (first run only)
SEED_ARTICLES=true

# ==============================================
# GOOGLE OAUTH CONFIGURATION
# ==============================================

# Google OAuth Client ID [REQUIRED IF USING GOOGLE LOGIN]
# Get from: https://console.cloud.google.com/
# Leave empty to skip Google OAuth in local development
GOOGLE_OAUTH_CLIENT_ID=your-google-client-id-here

# Google OAuth Client Secret [REQUIRED IF USING GOOGLE LOGIN]
# Get from: https://console.cloud.google.com/
# NEVER commit this to version control!
# Leave empty to skip Google OAuth in local development
GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret-here

# Alternative naming (used by frontend and some backend imports)
GOOGLE_CLIENT_ID=your-google-client-id-here
GOOGLE_CLIENT_SECRET=your-google-client-secret-here

# ==============================================
# AI/OPENAI CONFIGURATION (Required for AI Chat)
# ==============================================

# OpenAI API Key [REQUIRED FOR AI CHAT]
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# OpenAI Model for chat responses
OPENAI_MODEL=gpt-5.1

# Embedding model for vector search
EMBEDDING_MODEL=text-embedding-3-small

# Chat/AI API URL (points to local backend)
NEXT_PUBLIC_CHAT_API_URL=http://127.0.0.1:8000

# ==============================================
# RAG SERVICE CONFIGURATION
# ==============================================

# For local development: http://127.0.0.1:8001 (Docker container exposed to host)
# The nail-rag-api container runs internally on port 8000 but is exposed on host port 8001
RAG_SERVICE_URL=http://127.0.0.1:8001
RAG_SERVICE_TIMEOUT=30.0
RAG_SERVICE_MAX_RETRIES=3

# CORS for RAG service (local development)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://127.0.0.1:8000

# ==============================================
# EMAIL CONFIGURATION (Optional)
# ==============================================

# Email SMTP host (for sending emails)
EMAIL_HOST=smtp.gmail.com

# Email SMTP port
EMAIL_PORT=587

# Email sender address [OPTIONAL]
# Format: your-email@gmail.com
EMAIL_HOST_USER=

# Email sender password [OPTIONAL - NEVER commit!]
# For Gmail: use App Passwords (https://myaccount.google.com/apppasswords)
EMAIL_HOST_PASSWORD=

# Default from email address
DEFAULT_FROM_EMAIL=noreply@missland.local

# ==============================================
# LOGGING CONFIGURATION
# ==============================================

# Django logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
DJANGO_LOG_LEVEL=DEBUG

# ==============================================
# SENTRY (Error Tracking - Optional)
# ==============================================

# Sentry DSN for error tracking (optional, leave empty to disable)
SENTRY_DSN=

# ==============================================
# FRONTEND NEXT.JS CONFIGURATION
# ==============================================

# Frontend API URL (must match backend address, no /api suffix - frontend code includes full paths)
NEXT_PUBLIC_API_URL=http://127.0.0.1:8000

# Frontend Google Client ID (same as GOOGLE_OAUTH_CLIENT_ID)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id-here

# Node environment
NODE_ENV=development

# ==============================================
# ENVIRONMENT-SPECIFIC NOTES
# ==============================================

# This configuration is optimized for:
# ✅ Running backend: python manage.py runserver
# ✅ Running frontend: npm run dev
# ✅ Using Docker only for PostgreSQL, Redis, Nginx
# ✅ Easy debugging and hot-reloading in development
# ✅ Full feature testing with data import

# For PRODUCTION deployment:
# - Use .env.docker instead
# - Set DEBUG=False
# - Use strong SECRET_KEY
# - Use production-grade passwords
# - Configure proper domain names

# For DOCKER-ONLY development:
# - Use .env.docker instead
# - Build and run all containers
# - Services communicate via container hostnames
